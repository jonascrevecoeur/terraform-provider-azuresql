---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "azuresql_permission Resource - terraform-provider-azuresql"
subcategory: ""
description: |-
  Manage database and server permissions.
---

# azuresql_permission (Resource)

Manage database and server permissions.

**Supported**: `SQL Server`, `SQL Database`, `Synapse serverless server`, `Synapse serverless database`, `Fabric` 

**Not supported**: `Synapse dedicated server`, `Synapse dedicated database`

## Example Usage

```terraform
provider "azuresql" {
}

data "azuresql_sqlserver" "server" {
  server = "mysqlserver"
}

data "azuresql_database" "database" {
  server = data.azuresql_sqlserver.server.id
  name   = "mydatabase"
}


data "azuresql_table" "mytable" {
    database 	= data.azuresql_database.database.id
    name     	= "mytable"
}

data "azuresql_role" "myrole" {
    database    = data.azuresql_database.database.id
    name        = "myrole"
}

# grant myrole select, insert and delete permissions on table mytable
resource "azuresql_permission" "test" {
    for_each    = toset(["select", "insert", "delete"])
    database    = data.azuresql_database.database.id
    scope       = data.azuresql_table.mytable.id
    principal   = data.azuresql_role.myrole.id
    permission  = each.key
}

# grant myrole create table permission on the databse
resource "azuresql_permission" "test" {
    database    = data.azuresql_database.database.id
    scope       = data.azuresql_database.database.id
    principal   = data.azuresql_role.myrole.id
    permission  = "create table"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Argument reference
The following arguments are supported:

- `database` (Optional, String) The ID of the database in which the permission should be registerd. 
- `server` (Optional, String) Id of the server where the permission should be registerd.

-> Exactly one of `database` or `server` should be specified.

- `principal` (Required, String) ID of the principal (`azuresql_role` or `azuresql_user`) to which the permission is granted. 
- `scope` (Required, String) ID of the resource on which the permission is granted. Currently implemented are: `azuresql_table`, `azuresql_view`, `azuresql_schema`, `azuresql_function`, `azuresql_procedure`, `azuresql_database`, `azuresql_sqlserver`, `azuresql_synapseserver` and `azuresql_database_scoped_credential`.

- `permission` (Required, String) Permission to be granted.

- `action` (Optional, String) Accepts `"grant"` or `"deny"`. Default `"grant"`.

### Attributes Reference
In addition to the arguments listed above, the following read only attributes are exported:

- `id` (String) The azuresql ID of the permission resource.

## ID structure

The ID is formed as `<connection>`/permission/`<principal>/<permission>/<permission type>/<scope>`, where
* `<connection>` is the azuresql ID of the database or server where the resource exists.
* `<principal>` is the id of the principal to which the permission is given. This can be found by runnning `select database_principal_id('<principal name>')`.
* `<permission>` is the permission granted or denied in lowercase.
* `<permission type>`:
  * `database` for database permissions
  * `server` for server permissions
  * `schema` for schema permissions
  * `object` for table, view or function permissions
  * `databasescopedcredential` for database scoped credential permissions
* `<scope>`: The id of the scope in the database/server
  * `0` for database permissions
  * `0` for server permissions
  * `schema_id` for schema permissions. Can be retrieved as `select schema_id('<schema name>')`
  * `object id` for table or view permissions. Can be retrieved as `select object_id('<schema name>.<table or view name>')`
  * `databasescopedcredential` for database scoped credential permissions. Can be retrieved as `select credential_id from sys.database_scoped_credentials where name = '<name>'`

## Import

You can import a permission using 

```shell
terraform import azuresql_permission.<resource name> <id>
```